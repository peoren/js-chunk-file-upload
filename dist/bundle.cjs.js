"use strict";function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var defer,channel,port,asyncToGenerator=createCommonjsModule(function(t){function c(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(a){return function(){var t=this,s=arguments;return new Promise(function(e,r){var n=a.apply(t,s);function o(t){c(n,e,r,o,i,"next",t)}function i(t){c(n,e,r,o,i,"throw",t)}o(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports}),_asyncToGenerator=unwrapExports(asyncToGenerator),classCallCheck=createCommonjsModule(function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}),_classCallCheck=unwrapExports(classCallCheck),createClass=createCommonjsModule(function(t){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}),_createClass=unwrapExports(createClass),runtime_1=createCommonjsModule(function(e){e=function(s){var c,t=Object.prototype,u=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function i(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,r){return t[e]=r}}function a(t,e,r,n){var o,i,s,a,e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),n=new E(n||[]);return e._invoke=(o=t,i=r,s=n,a=f,function(t,e){if(a===_)throw new Error("Generator is already running");if(a===p){if("throw"===t)throw e;return j()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){r=function t(e,r){var n=e.iterator[r.method];if(n===c){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=c,t(e,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}n=l(n,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,y;n=n.arg;if(!n)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y;{if(!n.done)return n;r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=c)}r.delegate=null;return y}(r,s);if(r){if(r===y)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(a===f)throw a=p,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a=_;r=l(o,i,s);if("normal"===r.type){if(a=s.done?p:h,r.arg!==y)return{value:r.arg,done:s.done}}else"throw"===r.type&&(a=p,s.method="throw",s.arg=r.arg)}}),e}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}s.wrap=a;var f="suspendedStart",h="suspendedYield",_="executing",p="completed",y={};function d(){}function b(){}function m(){}var e={},g=(i(e,n,function(){return this}),Object.getPrototypeOf),g=g&&g(g(T([]))),v=(g&&g!==t&&u.call(g,n)&&(e=g),m.prototype=d.prototype=Object.create(e));function O(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function S(s,a){var e;this._invoke=function(r,n){function t(){return new a(function(t,e){!function e(t,r,n,o){var i,t=l(s[t],s,r);if("throw"!==t.type)return(r=(i=t.arg).value)&&"object"==typeof r&&u.call(r,"__await")?a.resolve(r.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):a.resolve(r).then(function(t){i.value=t,n(i)},function(t){return e("throw",t,n,o)});o(t.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function T(e){if(e){var r,t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(u.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}return{next:j}}function j(){return{value:c,done:!0}}return i(v,"constructor",b.prototype=m),i(m,"constructor",b),b.displayName=i(m,o,"GeneratorFunction"),s.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,i(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},s.awrap=function(t){return{__await:t}},O(S.prototype),i(S.prototype,r,function(){return this}),s.AsyncIterator=S,s.async=function(t,e,r,n,o){void 0===o&&(o=Promise);var i=new S(a(t,e,r,n),o);return s.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},O(v),i(v,o,"Generator"),i(v,n,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),s.keys=function(r){var t,n=[];for(t in r)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=T,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return i.type="throw",i.arg=r,n.next=t,e&&(n.method="next",n.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=u.call(o,"catchLoc"),a=u.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(r=o.completion).type&&(n=r.arg,w(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=c),y}},s}(e.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),regenerator=runtime_1,_isObject=function(t){return"object"==typeof t?null!==t:"function"==typeof t},_anObject=function(t){if(_isObject(t))return t;throw TypeError(t+" is not an object!")},_fails=function(t){try{return!!t()}catch(t){return!0}},_descriptors=!_fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),_global=createCommonjsModule(function(t){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),document$1=_global.document,is=_isObject(document$1)&&_isObject(document$1.createElement),_domCreate=function(t){return is?document$1.createElement(t):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a}),_toPrimitive=function(t,e){if(!_isObject(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!_isObject(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!_isObject(n=r.call(t)))return n;if(e||"function"!=typeof(r=t.toString)||_isObject(n=r.call(t)))throw TypeError("Can't convert object to primitive value");return n},dP=Object.defineProperty,f=_descriptors?Object.defineProperty:function(t,e,r){if(_anObject(t),e=_toPrimitive(e,!0),_anObject(r),_ie8DomDefine)try{return dP(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t},_objectDp={f:f},dP$1=_objectDp.f,FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/,NAME="name",toString=(NAME in FProto||_descriptors&&dP$1(FProto,NAME,{configurable:!0,get:function(){try{return(""+this).match(nameRE)[1]}catch(t){return""}}}),{}.toString),_cof=function(t){return toString.call(t).slice(8,-1)},_core=createCommonjsModule(function(t){t=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)}),_core_1=_core.version,_library=!1,_shared=createCommonjsModule(function(t){var e="__core-js_shared__",r=_global[e]||(_global[e]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:_core.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),id=0,px=Math.random(),_uid=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++id+px).toString(36))},_wks=createCommonjsModule(function(t){var e=_shared("wks"),r=_global.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:_uid)("Symbol."+t))}).store=e}),TAG=_wks("toStringTag"),ARG="Arguments"==_cof(function(){return arguments}()),tryGet=function(t,e){try{return t[e]}catch(t){}},_classof=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=tryGet(t=Object(t),TAG))?e:ARG?_cof(t):"Object"==(e=_cof(t))&&"function"==typeof t.callee?"Arguments":e},_propertyDesc=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},_hide=_descriptors?function(t,e,r){return _objectDp.f(t,e,_propertyDesc(1,r))}:function(t,e,r){return t[e]=r,t},hasOwnProperty={}.hasOwnProperty,_has=function(t,e){return hasOwnProperty.call(t,e)},_functionToString=_shared("native-function-to-string",Function.toString),_redefine=createCommonjsModule(function(t){var i=_uid("src"),e="toString",s=(""+_functionToString).split(e);_core.inspectSource=function(t){return _functionToString.call(t)},(t.exports=function(t,e,r,n){var o="function"==typeof r;o&&!_has(r,"name")&&_hide(r,"name",e),t[e]!==r&&(o&&!_has(r,i)&&_hide(r,i,t[e]?""+t[e]:s.join(String(e))),t===_global?t[e]=r:n?t[e]?t[e]=r:_hide(t,e,r):(delete t[e],_hide(t,e,r)))})(Function.prototype,e,function(){return"function"==typeof this&&this[i]||_functionToString.call(this)})}),test={},_aFunction=(test[_wks("toStringTag")]="z",test+""!="[object z]"&&_redefine(Object.prototype,"toString",function(){return"[object "+_classof(this)+"]"},!0),function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),_ctx=function(n,o,t){if(_aFunction(n),void 0===o)return n;switch(t){case 1:return function(t){return n.call(o,t)};case 2:return function(t,e){return n.call(o,t,e)};case 3:return function(t,e,r){return n.call(o,t,e,r)}}return function(){return n.apply(o,arguments)}},PROTOTYPE="prototype",$export=function(t,e,r){var n,o,i,s=t&$export.F,a=t&$export.G,c=t&$export.S,u=t&$export.P,l=t&$export.B,f=a?_global:c?_global[e]||(_global[e]={}):(_global[e]||{})[PROTOTYPE],h=a?_core:_core[e]||(_core[e]={}),_=h[PROTOTYPE]||(h[PROTOTYPE]={});for(n in r=a?e:r)o=((i=!s&&f&&void 0!==f[n])?f:r)[n],i=l&&i?_ctx(o,_global):u&&"function"==typeof o?_ctx(Function.call,o):o,f&&_redefine(f,n,o,t&$export.U),h[n]!=o&&_hide(h,n,i),u&&_[n]!=o&&(_[n]=o)},_export=(_global.core=_core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,$export),_anInstance=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t},_iterCall=function(e,t,r,n){try{return n?t(_anObject(r)[0],r[1]):t(r)}catch(t){n=e.return;throw void 0!==n&&_anObject(n.call(e)),t}},_iterators={},ITERATOR=_wks("iterator"),ArrayProto=Array.prototype,_isArrayIter=function(t){return void 0!==t&&(_iterators.Array===t||ArrayProto[ITERATOR]===t)},ceil=Math.ceil,floor=Math.floor,_toInteger=function(t){return isNaN(t=+t)?0:(0<t?floor:ceil)(t)},min=Math.min,_toLength=function(t){return 0<t?min(_toInteger(t),9007199254740991):0},ITERATOR$1=_wks("iterator"),core_getIteratorMethod=_core.getIteratorMethod=function(t){if(null!=t)return t[ITERATOR$1]||t["@@iterator"]||_iterators[_classof(t)]},_forOf=createCommonjsModule(function(t){var f={},h={},t=t.exports=function(t,e,r,n,o){var i,s,a,c,o=o?function(){return t}:core_getIteratorMethod(t),u=_ctx(r,n,e?2:1),l=0;if("function"!=typeof o)throw TypeError(t+" is not iterable!");if(_isArrayIter(o)){for(i=_toLength(t.length);l<i;l++)if((c=e?u(_anObject(s=t[l])[0],s[1]):u(t[l]))===f||c===h)return c}else for(a=o.call(t);!(s=a.next()).done;)if((c=_iterCall(a,u,s.value,e))===f||c===h)return c};t.BREAK=f,t.RETURN=h}),SPECIES=_wks("species"),_speciesConstructor=function(t,e){var t=_anObject(t).constructor;return void 0===t||null==(t=_anObject(t)[SPECIES])?e:_aFunction(t)},_invoke=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)},document$2=_global.document,_html=document$2&&document$2.documentElement,process=_global.process,setTask=_global.setImmediate,clearTask=_global.clearImmediate,MessageChannel=_global.MessageChannel,Dispatch=_global.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",run=function(){var t,e=+this;queue.hasOwnProperty(e)&&(t=queue[e],delete queue[e],t())},listener=function(t){run.call(t.data)},_task=(setTask&&clearTask||(setTask=function(t){for(var e=[],r=1;r<arguments.length;)e.push(arguments[r++]);return queue[++counter]=function(){_invoke("function"==typeof t?t:Function(t),e)},defer(counter),counter},clearTask=function(t){delete queue[t]},"process"==_cof(process)?defer=function(t){process.nextTick(_ctx(run,t,1))}:Dispatch&&Dispatch.now?defer=function(t){Dispatch.now(_ctx(run,t,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=_ctx(port.postMessage,port,1)):_global.addEventListener&&"function"==typeof postMessage&&!_global.importScripts?(defer=function(t){_global.postMessage(t+"","*")},_global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in _domCreate("script")?function(t){_html.appendChild(_domCreate("script"))[ONREADYSTATECHANGE]=function(){_html.removeChild(this),run.call(t)}}:function(t){setTimeout(_ctx(run,t,1),0)}),{set:setTask,clear:clearTask}),macrotask=_task.set,Observer=_global.MutationObserver||_global.WebKitMutationObserver,process$1=_global.process,Promise$1=_global.Promise,isNode="process"==_cof(process$1),_microtask=function(){function t(){var t,e;for(isNode&&(t=process$1.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?o():n=void 0,t}}n=void 0,t&&t.enter()}var r,n,e,o,i,s;return o=isNode?function(){process$1.nextTick(t)}:!Observer||_global.navigator&&_global.navigator.standalone?Promise$1&&Promise$1.resolve?(e=Promise$1.resolve(void 0),function(){e.then(t)}):function(){macrotask.call(_global,t)}:(i=!0,s=document.createTextNode(""),new Observer(t).observe(s,{characterData:!0}),function(){s.data=i=!i}),function(t){t={fn:t,next:void 0};n&&(n.next=t),r||(r=t,o()),n=t}};function PromiseCapability(t){var r,n;this.promise=new t(function(t,e){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=t,n=e}),this.resolve=_aFunction(r),this.reject=_aFunction(n)}var f$1=function(t){return new PromiseCapability(t)},_newPromiseCapability={f:f$1},_perform=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},navigator=_global.navigator,_userAgent=navigator&&navigator.userAgent||"",_promiseResolve=function(t,e){if(_anObject(t),_isObject(e)&&e.constructor===t)return e;t=_newPromiseCapability.f(t);return(0,t.resolve)(e),t.promise},_redefineAll=function(t,e,r){for(var n in e)_redefine(t,n,e[n],r);return t},def=_objectDp.f,TAG$1=_wks("toStringTag"),_setToStringTag=function(t,e,r){t&&!_has(t=r?t:t.prototype,TAG$1)&&def(t,TAG$1,{configurable:!0,value:e})},SPECIES$1=_wks("species"),_setSpecies=function(t){t=_global[t];_descriptors&&t&&!t[SPECIES$1]&&_objectDp.f(t,SPECIES$1,{configurable:!0,get:function(){return this}})},ITERATOR$2=_wks("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR$2]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(t){}var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,_iterDetect=function(t,e){if(!e&&!SAFE_CLOSING)return!1;var r=!1;try{var n=[7],o=n[ITERATOR$2]();o.next=function(){return{done:r=!0}},n[ITERATOR$2]=function(){return o},t(n)}catch(t){}return r},task=_task.set,microtask=_microtask(),PROMISE="Promise",TypeError$1=_global.TypeError,process$2=_global.process,versions=process$2&&process$2.versions,v8=versions&&versions.v8||"",$Promise=_global[PROMISE],isNode$1="process"==_classof(process$2),empty=function(){},newPromiseCapability=newGenericPromiseCapability=_newPromiseCapability.f,USE_NATIVE=!!function(){try{var t=$Promise.resolve(1),e=(t.constructor={})[_wks("species")]=function(t){t(empty,empty)};return(isNode$1||"function"==typeof PromiseRejectionEvent)&&t.then(empty)instanceof e&&0!==v8.indexOf("6.6")&&-1===_userAgent.indexOf("Chrome/66")}catch(t){}}(),isThenable=function(t){var e;return!(!_isObject(t)||"function"!=typeof(e=t.then))&&e},notify=function(f,h){var _;f._n||(f._n=!0,_=f._c,microtask(function(){for(var t=f._v,e=1==f._s,r=0;_.length>r;){s=i=o=l=u=c=a=void 0;var n=_[r++],o,i,s,a=e?n.ok:n.fail,c=n.resolve,u=n.reject,l=n.domain;try{a?(e||(2==f._h&&onHandleUnhandled(f),f._h=1),!0===a?o=t:(l&&l.enter(),o=a(t),l&&(l.exit(),s=!0)),o===n.promise?u(TypeError$1("Promise-chain cycle")):(i=isThenable(o))?i.call(o,c,u):c(o)):u(t)}catch(t){l&&!s&&l.exit(),u(t)}}f._c=[],f._n=!1,h&&!f._h&&onUnhandled(f)}))},onUnhandled=function(o){task.call(_global,function(){var t,e,r=o._v,n=isUnhandled(o);if(n&&(t=_perform(function(){isNode$1?process$2.emit("unhandledRejection",r,o):(e=_global.onunhandledrejection)?e({promise:o,reason:r}):(e=_global.console)&&e.error&&e.error("Unhandled promise rejection",r)}),o._h=isNode$1||isUnhandled(o)?2:1),o._a=void 0,n&&t.e)throw t.v})},isUnhandled=function(t){return 1!==t._h&&0===(t._a||t._c).length},onHandleUnhandled=function(e){task.call(_global,function(){var t;isNode$1?process$2.emit("rejectionHandled",e):(t=_global.onrejectionhandled)&&t({promise:e,reason:e._v})})},$reject=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),notify(e,!0))},$resolve=function(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw TypeError$1("Promise can't be resolved itself");(r=isThenable(t))?microtask(function(){var e={_w:n,_d:!1};try{r.call(t,_ctx($resolve,e,1),_ctx($reject,e,1))}catch(t){$reject.call(e,t)}}):(n._v=t,n._s=1,notify(n,!1))}catch(t){$reject.call({_w:n,_d:!1},t)}}},_iobject=(USE_NATIVE||($Promise=function(t){_anInstance(this,$Promise,PROMISE,"_h"),_aFunction(t),Internal.call(this);try{t(_ctx($resolve,this,1),_ctx($reject,this,1))}catch(t){$reject.call(this,t)}},(Internal=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=_redefineAll($Promise.prototype,{then:function(t,e){var r=newPromiseCapability(_speciesConstructor(this,$Promise));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=isNode$1?process$2.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&notify(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),OwnPromiseCapability=function(){var t=new Internal;this.promise=t,this.resolve=_ctx($resolve,t,1),this.reject=_ctx($reject,t,1)},_newPromiseCapability.f=newPromiseCapability=function(t){return t===$Promise||t===Wrapper?new OwnPromiseCapability(t):newGenericPromiseCapability(t)}),_export(_export.G+_export.W+_export.F*!USE_NATIVE,{Promise:$Promise}),_setToStringTag($Promise,PROMISE),_setSpecies(PROMISE),Wrapper=_core[PROMISE],_export(_export.S+_export.F*!USE_NATIVE,PROMISE,{reject:function(t){var e=newPromiseCapability(this);return(0,e.reject)(t),e.promise}}),_export(_export.S+_export.F*!USE_NATIVE,PROMISE,{resolve:function(t){return _promiseResolve(this,t)}}),_export(_export.S+_export.F*!(USE_NATIVE&&_iterDetect(function(t){$Promise.all(t).catch(empty)})),PROMISE,{all:function(t){var s=this,e=newPromiseCapability(s),a=e.resolve,c=e.reject,r=_perform(function(){var n=[],o=0,i=1;_forOf(t,!1,function(t){var e=o++,r=!1;n.push(void 0),i++,s.resolve(t).then(function(t){r||(r=!0,n[e]=t,--i||a(n))},c)}),--i||a(n)});return r.e&&c(r.v),e.promise},race:function(t){var e=this,r=newPromiseCapability(e),n=r.reject,o=_perform(function(){_forOf(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}}),Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==_cof(t)?t.split(""):Object(t)}),_defined=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},_toObject=function(t){return Object(_defined(t))},_isArray=Array.isArray||function(t){return"Array"==_cof(t)},SPECIES$2=_wks("species"),_arraySpeciesConstructor=function(t){var e;return _isArray(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!_isArray(e.prototype)||(e=void 0),_isObject(e)&&null===(e=e[SPECIES$2])&&(e=void 0)),void 0===e?Array:e},_arraySpeciesCreate=function(t,e){return new(_arraySpeciesConstructor(t))(e)},_arrayMethods=function(f,t){var h=1==f,_=2==f,p=3==f,y=4==f,d=6==f,b=5==f||d,m=t||_arraySpeciesCreate;return function(t,e,r){for(var n,o,i=_toObject(t),s=_iobject(i),a=_ctx(e,r,3),c=_toLength(s.length),u=0,l=h?m(t,c):_?m(t,0):void 0;u<c;u++)if((b||u in s)&&(o=a(n=s[u],u,i),f))if(h)l[u]=o;else if(o)switch(f){case 3:return!0;case 5:return n;case 6:return u;case 2:l.push(n)}else if(y)return!1;return d?-1:p||y?y:l}},_strictMethod=function(t,e){return!!t&&_fails(function(){e?t.call(null,function(){},1):t.call(null)})},$map=_arrayMethods(1),_meta=(_export(_export.P+_export.F*!_strictMethod([].map,!0),"Array",{map:function(t){return $map(this,t,arguments[1])}}),createCommonjsModule(function(t){function r(t){e(t,n,{value:{i:"O"+ ++o,w:{}}})}var n=_uid("meta"),e=_objectDp.f,o=0,i=Object.isExtensible||function(){return!0},s=!_fails(function(){return i(Object.preventExtensions({}))}),a=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!_isObject(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!_has(t,n)){if(!i(t))return"F";if(!e)return"E";r(t)}return t[n].i},getWeak:function(t,e){if(!_has(t,n)){if(!i(t))return!0;if(!e)return!1;r(t)}return t[n].w},onFreeze:function(t){return s&&a.NEED&&i(t)&&!_has(t,n)&&r(t),t}}})),_meta_1=_meta.KEY,_meta_2=_meta.NEED,_meta_3=_meta.fastKey,_meta_4=_meta.getWeak,_meta_5=_meta.onFreeze,f$2=_wks,_wksExt={f:_wks},defineProperty=_objectDp.f,_wksDefine=function(t){var e=_core.Symbol||(_core.Symbol=_global.Symbol||{});"_"==t.charAt(0)||t in e||defineProperty(e,t,{value:_wksExt.f(t)})},_toIobject=function(t){return _iobject(_defined(t))},max=Math.max,min$1=Math.min,_toAbsoluteIndex=function(t,e){return(t=_toInteger(t))<0?max(t+e,0):min$1(t,e)},_arrayIncludes=function(a){return function(t,e,r){var n,o=_toIobject(t),i=_toLength(o.length),s=_toAbsoluteIndex(r,i);if(a&&e!=e){for(;s<i;)if((n=o[s++])!=n)return!0}else for(;s<i;s++)if((a||s in o)&&o[s]===e)return a||s||0;return!a&&-1}},shared=_shared("keys"),_sharedKey=function(t){return shared[t]||(shared[t]=_uid(t))},arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function(t,e){var r,n=_toIobject(t),o=0,i=[];for(r in n)r!=IE_PROTO&&_has(n,r)&&i.push(r);for(;e.length>o;)!_has(n,r=e[o++])||~arrayIndexOf(i,r)||i.push(r);return i},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),_objectKeys=Object.keys||function(t){return _objectKeysInternal(t,_enumBugKeys)},f$3=Object.getOwnPropertySymbols,_objectGops={f:f$3},f$4={}.propertyIsEnumerable,_objectPie={f:f$4},_enumKeys=function(t){var e=_objectKeys(t),r=_objectGops.f;if(r)for(var n,o=r(t),i=_objectPie.f,s=0;o.length>s;)i.call(t,n=o[s++])&&e.push(n);return e},_objectDps=_descriptors?Object.defineProperties:function(t,e){_anObject(t);for(var r,n=_objectKeys(e),o=n.length,i=0;i<o;)_objectDp.f(t,r=n[i++],e[r]);return t},IE_PROTO$1=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",createDict=function(){var t=_domCreate("iframe"),e=_enumBugKeys.length;for(t.style.display="none",_html.appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),createDict=t.F;e--;)delete createDict[PROTOTYPE$1][_enumBugKeys[e]];return createDict()},_objectCreate=Object.create||function(t,e){var r;return null!==t?(Empty[PROTOTYPE$1]=_anObject(t),r=new Empty,Empty[PROTOTYPE$1]=null,r[IE_PROTO$1]=t):r=createDict(),void 0===e?r:_objectDps(r,e)},hiddenKeys=_enumBugKeys.concat("length","prototype"),f$5=Object.getOwnPropertyNames||function(t){return _objectKeysInternal(t,hiddenKeys)},_objectGopn={f:f$5},gOPN=_objectGopn.f,toString$1={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(t){try{return gOPN(t)}catch(t){return windowNames.slice()}},f$6=function(t){return windowNames&&"[object Window]"==toString$1.call(t)?getWindowNames(t):gOPN(_toIobject(t))},_objectGopnExt={f:f$6},gOPD=Object.getOwnPropertyDescriptor,f$7=_descriptors?gOPD:function(t,e){if(t=_toIobject(t),e=_toPrimitive(e,!0),_ie8DomDefine)try{return gOPD(t,e)}catch(t){}if(_has(t,e))return _propertyDesc(!_objectPie.f.call(t,e),t[e])},_objectGopd={f:f$7},META=_meta.KEY,gOPD$1=_objectGopd.f,dP$2=_objectDp.f,gOPN$1=_objectGopnExt.f,$Symbol=_global.Symbol,$JSON=_global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE$2="prototype",HIDDEN=_wks("_hidden"),TO_PRIMITIVE=_wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=_shared("symbol-registry"),AllSymbols=_shared("symbols"),OPSymbols=_shared("op-symbols"),ObjectProto=Object[PROTOTYPE$2],USE_NATIVE$1="function"==typeof $Symbol&&!!_objectGops.f,QObject=_global.QObject,setter=!QObject||!QObject[PROTOTYPE$2]||!QObject[PROTOTYPE$2].findChild,setSymbolDesc=_descriptors&&_fails(function(){return 7!=_objectCreate(dP$2({},"a",{get:function(){return dP$2(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=gOPD$1(ObjectProto,e);n&&delete ObjectProto[e],dP$2(t,e,r),n&&t!==ObjectProto&&dP$2(ObjectProto,e,n)}:dP$2,wrap=function(t){var e=AllSymbols[t]=_objectCreate($Symbol[PROTOTYPE$2]);return e._k=t,e},isSymbol=USE_NATIVE$1&&"symbol"==typeof $Symbol.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof $Symbol},$defineProperty=function(t,e,r){return t===ObjectProto&&$defineProperty(OPSymbols,e,r),_anObject(t),e=_toPrimitive(e,!0),_anObject(r),_has(AllSymbols,e)?(r.enumerable?(_has(t,HIDDEN)&&t[HIDDEN][e]&&(t[HIDDEN][e]=!1),r=_objectCreate(r,{enumerable:_propertyDesc(0,!1)})):(_has(t,HIDDEN)||dP$2(t,HIDDEN,_propertyDesc(1,{})),t[HIDDEN][e]=!0),setSymbolDesc(t,e,r)):dP$2(t,e,r)},$defineProperties=function(t,e){_anObject(t);for(var r,n=_enumKeys(e=_toIobject(e)),o=0,i=n.length;o<i;)$defineProperty(t,r=n[o++],e[r]);return t},$create=function(t,e){return void 0===e?_objectCreate(t):$defineProperties(_objectCreate(t),e)},$propertyIsEnumerable=function(t){var e=isEnum.call(this,t=_toPrimitive(t,!0));return!(this===ObjectProto&&_has(AllSymbols,t)&&!_has(OPSymbols,t))&&(!(e||!_has(this,t)||!_has(AllSymbols,t)||_has(this,HIDDEN)&&this[HIDDEN][t])||e)},$getOwnPropertyDescriptor=function(t,e){var r;if(t=_toIobject(t),e=_toPrimitive(e,!0),t!==ObjectProto||!_has(AllSymbols,e)||_has(OPSymbols,e))return r=gOPD$1(t,e),!r||!_has(AllSymbols,e)||_has(t,HIDDEN)&&t[HIDDEN][e]||(r.enumerable=!0),r},$getOwnPropertyNames=function(t){for(var e,r=gOPN$1(_toIobject(t)),n=[],o=0;r.length>o;)_has(AllSymbols,e=r[o++])||e==HIDDEN||e==META||n.push(e);return n},$getOwnPropertySymbols=function(t){for(var e,r=t===ObjectProto,n=gOPN$1(r?OPSymbols:_toIobject(t)),o=[],i=0;n.length>i;)!_has(AllSymbols,e=n[i++])||r&&!_has(ObjectProto,e)||o.push(AllSymbols[e]);return o};USE_NATIVE$1||(_redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var e=_uid(0<arguments.length?arguments[0]:void 0),r=function(t){this===ObjectProto&&r.call(OPSymbols,t),_has(this,HIDDEN)&&_has(this[HIDDEN],e)&&(this[HIDDEN][e]=!1),setSymbolDesc(this,e,_propertyDesc(1,t))};return _descriptors&&setter&&setSymbolDesc(ObjectProto,e,{configurable:!0,set:r}),wrap(e)})[PROTOTYPE$2],"toString",function(){return this._k}),_objectGopd.f=$getOwnPropertyDescriptor,_objectDp.f=$defineProperty,_objectGopn.f=_objectGopnExt.f=$getOwnPropertyNames,_objectPie.f=$propertyIsEnumerable,_objectGops.f=$getOwnPropertySymbols,_descriptors&&!_library&&_redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),_wksExt.f=function(t){return wrap(_wks(t))}),_export(_export.G+_export.W+_export.F*!USE_NATIVE$1,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)_wks(es6Symbols[j++]);for(var wellKnownSymbols=_objectKeys(_wks.store),k=0;wellKnownSymbols.length>k;)_wksDefine(wellKnownSymbols[k++]);_export(_export.S+_export.F*!USE_NATIVE$1,"Symbol",{for:function(t){return _has(SymbolRegistry,t+="")?SymbolRegistry[t]:SymbolRegistry[t]=$Symbol(t)},keyFor:function(t){if(!isSymbol(t))throw TypeError(t+" is not a symbol!");for(var e in SymbolRegistry)if(SymbolRegistry[e]===t)return e},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),_export(_export.S+_export.F*!USE_NATIVE$1,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});for(var FAILS_ON_PRIMITIVES=_fails(function(){_objectGops.f(1)}),_createProperty=(_export(_export.S+_export.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function(t){return _objectGops.f(_toObject(t))}}),$JSON&&_export(_export.S+_export.F*(!USE_NATIVE$1||_fails(function(){var t=$Symbol();return"[null]"!=_stringify([t])||"{}"!=_stringify({a:t})||"{}"!=_stringify(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;o<arguments.length;)n.push(arguments[o++]);if(r=e=n[1],(_isObject(e)||void 0!==t)&&!isSymbol(t))return _isArray(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!isSymbol(e))return e}),n[1]=e,_stringify.apply($JSON,n)}}),$Symbol[PROTOTYPE$2][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE$2],TO_PRIMITIVE,$Symbol[PROTOTYPE$2].valueOf),_setToStringTag($Symbol,"Symbol"),_setToStringTag(Math,"Math",!0),_setToStringTag(_global.JSON,"JSON",!0),function(t,e,r){e in t?_objectDp.f(t,e,_propertyDesc(0,r)):t[e]=r}),_stringAt=(_export(_export.S+_export.F*!_iterDetect(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,n,o,i=_toObject(t),t="function"==typeof this?this:Array,s=arguments.length,a=1<s?arguments[1]:void 0,c=void 0!==a,u=0,l=core_getIteratorMethod(i);if(c&&(a=_ctx(a,2<s?arguments[2]:void 0,2)),null==l||t==Array&&_isArrayIter(l))for(r=new t(e=_toLength(i.length));u<e;u++)_createProperty(r,u,c?a(i[u],u):i[u]);else for(o=l.call(i),r=new t;!(n=o.next()).done;u++)_createProperty(r,u,c?_iterCall(o,a,[n.value,u],!0):n.value);return r.length=u,r}}),function(o){return function(t,e){var r,t=String(_defined(t)),e=_toInteger(e),n=t.length;return e<0||n<=e?o?"":void 0:(r=t.charCodeAt(e))<55296||56319<r||e+1===n||(n=t.charCodeAt(e+1))<56320||57343<n?o?t.charAt(e):r:o?t.slice(e,e+2):n-56320+(r-55296<<10)+65536}}),IteratorPrototype={},_iterCreate=(_hide(IteratorPrototype,_wks("iterator"),function(){return this}),function(t,e,r){t.prototype=_objectCreate(IteratorPrototype,{next:_propertyDesc(1,r)}),_setToStringTag(t,e+" Iterator")}),IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto$1=Object.prototype,_objectGpo=Object.getPrototypeOf||function(t){return t=_toObject(t),_has(t,IE_PROTO$2)?t[IE_PROTO$2]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ObjectProto$1:null},ITERATOR$3=_wks("iterator"),BUGGY=(!([].keys&&"next"in[].keys())),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(t,e,r,n,o,i,s){_iterCreate(r,e,n);function a(t){if(!BUGGY&&t in h)return h[t];switch(t){case KEYS:case VALUES:return function(){return new r(this,t)}}return function(){return new r(this,t)}}var c,u,n=e+" Iterator",l=o==VALUES,f=!1,h=t.prototype,_=h[ITERATOR$3]||h[FF_ITERATOR]||o&&h[o],p=_||a(o),y=o?l?a("entries"):p:void 0,d="Array"==e&&h.entries||_;if(d&&(d=_objectGpo(d.call(new t)))!==Object.prototype&&d.next&&(_setToStringTag(d,n,!0),"function"!=typeof d[ITERATOR$3]&&_hide(d,ITERATOR$3,returnThis)),l&&_&&_.name!==VALUES&&(f=!0,p=function(){return _.call(this)}),!BUGGY&&!f&&h[ITERATOR$3]||_hide(h,ITERATOR$3,p),_iterators[e]=p,_iterators[n]=returnThis,o)if(c={values:l?p:a(VALUES),keys:i?p:a(KEYS),entries:y},s)for(u in c)u in h||_redefine(h,u,c[u]);else _export(_export.P+_export.F*(BUGGY||f),e,c);return c},$at=_stringAt(!0),UNSCOPABLES=(_iterDefine(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=$at(t,e),this._i+=t.length,{value:t,done:!1})}),_wks("unscopables")),ArrayProto$1=Array.prototype,_addToUnscopables=(null==ArrayProto$1[UNSCOPABLES]&&_hide(ArrayProto$1,UNSCOPABLES,{}),function(t){ArrayProto$1[UNSCOPABLES][t]=!0}),_iterStep=function(t,e){return{value:e,done:!!t}},es6_array_iterator=_iterDefine(Array,"Array",function(t,e){this._t=_toIobject(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,_iterStep(1)):_iterStep(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),ITERATOR$4=(_iterators.Arguments=_iterators.Array,_addToUnscopables("keys"),_addToUnscopables("values"),_addToUnscopables("entries"),_wks("iterator")),TO_STRING_TAG=_wks("toStringTag"),ArrayValues=_iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=_objectKeys(DOMIterables),i=0;i<collections.length;i++){var key,NAME$1=collections[i],explicit=DOMIterables[NAME$1],Collection=_global[NAME$1],proto=Collection&&Collection.prototype;if(proto&&(proto[ITERATOR$4]||_hide(proto,ITERATOR$4,ArrayValues),proto[TO_STRING_TAG]||_hide(proto,TO_STRING_TAG,NAME$1),_iterators[NAME$1]=ArrayValues,explicit))for(key in es6_array_iterator)proto[key]||_redefine(proto,key,es6_array_iterator[key],!0)}var arraySlice=[].slice,_objectSap=(_export(_export.P+_export.F*_fails(function(){_html&&arraySlice.call(_html)}),"Array",{slice:function(t,e){var r=_toLength(this.length),n=_cof(this);if(e=void 0===e?r:e,"Array"==n)return arraySlice.call(this,t,e);for(var o=_toAbsoluteIndex(t,r),t=_toAbsoluteIndex(e,r),i=_toLength(t-o),s=new Array(i),a=0;a<i;a++)s[a]="String"==n?this.charAt(o+a):this[o+a];return s}}),function(t,e){var r=(_core.Object||{})[t]||Object[t],n={};n[t]=e(r),_export(_export.S+_export.F*_fails(function(){r(1)}),"Object",n)}),sparkMd5=(_objectSap("keys",function(){return function(t){return _objectKeys(_toObject(t))}}),createCommonjsModule(function(t,e){t.exports=function(l){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function u(t,e){var r=t[0],n=t[1],o=t[2],i=t[3];r+=(n&o|~n&i)+e[0]-680876936|0;r=(r<<7|r>>>25)+n|0;i+=(r&n|~r&o)+e[1]-389564586|0;i=(i<<12|i>>>20)+r|0;o+=(i&r|~i&n)+e[2]+606105819|0;o=(o<<17|o>>>15)+i|0;n+=(o&i|~o&r)+e[3]-1044525330|0;n=(n<<22|n>>>10)+o|0;r+=(n&o|~n&i)+e[4]-176418897|0;r=(r<<7|r>>>25)+n|0;i+=(r&n|~r&o)+e[5]+1200080426|0;i=(i<<12|i>>>20)+r|0;o+=(i&r|~i&n)+e[6]-1473231341|0;o=(o<<17|o>>>15)+i|0;n+=(o&i|~o&r)+e[7]-45705983|0;n=(n<<22|n>>>10)+o|0;r+=(n&o|~n&i)+e[8]+1770035416|0;r=(r<<7|r>>>25)+n|0;i+=(r&n|~r&o)+e[9]-1958414417|0;i=(i<<12|i>>>20)+r|0;o+=(i&r|~i&n)+e[10]-42063|0;o=(o<<17|o>>>15)+i|0;n+=(o&i|~o&r)+e[11]-1990404162|0;n=(n<<22|n>>>10)+o|0;r+=(n&o|~n&i)+e[12]+1804603682|0;r=(r<<7|r>>>25)+n|0;i+=(r&n|~r&o)+e[13]-40341101|0;i=(i<<12|i>>>20)+r|0;o+=(i&r|~i&n)+e[14]-1502002290|0;o=(o<<17|o>>>15)+i|0;n+=(o&i|~o&r)+e[15]+1236535329|0;n=(n<<22|n>>>10)+o|0;r+=(n&i|o&~i)+e[1]-165796510|0;r=(r<<5|r>>>27)+n|0;i+=(r&o|n&~o)+e[6]-1069501632|0;i=(i<<9|i>>>23)+r|0;o+=(i&n|r&~n)+e[11]+643717713|0;o=(o<<14|o>>>18)+i|0;n+=(o&r|i&~r)+e[0]-373897302|0;n=(n<<20|n>>>12)+o|0;r+=(n&i|o&~i)+e[5]-701558691|0;r=(r<<5|r>>>27)+n|0;i+=(r&o|n&~o)+e[10]+38016083|0;i=(i<<9|i>>>23)+r|0;o+=(i&n|r&~n)+e[15]-660478335|0;o=(o<<14|o>>>18)+i|0;n+=(o&r|i&~r)+e[4]-405537848|0;n=(n<<20|n>>>12)+o|0;r+=(n&i|o&~i)+e[9]+568446438|0;r=(r<<5|r>>>27)+n|0;i+=(r&o|n&~o)+e[14]-1019803690|0;i=(i<<9|i>>>23)+r|0;o+=(i&n|r&~n)+e[3]-187363961|0;o=(o<<14|o>>>18)+i|0;n+=(o&r|i&~r)+e[8]+1163531501|0;n=(n<<20|n>>>12)+o|0;r+=(n&i|o&~i)+e[13]-1444681467|0;r=(r<<5|r>>>27)+n|0;i+=(r&o|n&~o)+e[2]-51403784|0;i=(i<<9|i>>>23)+r|0;o+=(i&n|r&~n)+e[7]+1735328473|0;o=(o<<14|o>>>18)+i|0;n+=(o&r|i&~r)+e[12]-1926607734|0;n=(n<<20|n>>>12)+o|0;r+=(n^o^i)+e[5]-378558|0;r=(r<<4|r>>>28)+n|0;i+=(r^n^o)+e[8]-2022574463|0;i=(i<<11|i>>>21)+r|0;o+=(i^r^n)+e[11]+1839030562|0;o=(o<<16|o>>>16)+i|0;n+=(o^i^r)+e[14]-35309556|0;n=(n<<23|n>>>9)+o|0;r+=(n^o^i)+e[1]-1530992060|0;r=(r<<4|r>>>28)+n|0;i+=(r^n^o)+e[4]+1272893353|0;i=(i<<11|i>>>21)+r|0;o+=(i^r^n)+e[7]-155497632|0;o=(o<<16|o>>>16)+i|0;n+=(o^i^r)+e[10]-1094730640|0;n=(n<<23|n>>>9)+o|0;r+=(n^o^i)+e[13]+681279174|0;r=(r<<4|r>>>28)+n|0;i+=(r^n^o)+e[0]-358537222|0;i=(i<<11|i>>>21)+r|0;o+=(i^r^n)+e[3]-722521979|0;o=(o<<16|o>>>16)+i|0;n+=(o^i^r)+e[6]+76029189|0;n=(n<<23|n>>>9)+o|0;r+=(n^o^i)+e[9]-640364487|0;r=(r<<4|r>>>28)+n|0;i+=(r^n^o)+e[12]-421815835|0;i=(i<<11|i>>>21)+r|0;o+=(i^r^n)+e[15]+530742520|0;o=(o<<16|o>>>16)+i|0;n+=(o^i^r)+e[2]-995338651|0;n=(n<<23|n>>>9)+o|0;r+=(o^(n|~i))+e[0]-198630844|0;r=(r<<6|r>>>26)+n|0;i+=(n^(r|~o))+e[7]+1126891415|0;i=(i<<10|i>>>22)+r|0;o+=(r^(i|~n))+e[14]-1416354905|0;o=(o<<15|o>>>17)+i|0;n+=(i^(o|~r))+e[5]-57434055|0;n=(n<<21|n>>>11)+o|0;r+=(o^(n|~i))+e[12]+1700485571|0;r=(r<<6|r>>>26)+n|0;i+=(n^(r|~o))+e[3]-1894986606|0;i=(i<<10|i>>>22)+r|0;o+=(r^(i|~n))+e[10]-1051523|0;o=(o<<15|o>>>17)+i|0;n+=(i^(o|~r))+e[1]-2054922799|0;n=(n<<21|n>>>11)+o|0;r+=(o^(n|~i))+e[8]+1873313359|0;r=(r<<6|r>>>26)+n|0;i+=(n^(r|~o))+e[15]-30611744|0;i=(i<<10|i>>>22)+r|0;o+=(r^(i|~n))+e[6]-1560198380|0;o=(o<<15|o>>>17)+i|0;n+=(i^(o|~r))+e[13]+1309151649|0;n=(n<<21|n>>>11)+o|0;r+=(o^(n|~i))+e[4]-145523070|0;r=(r<<6|r>>>26)+n|0;i+=(n^(r|~o))+e[11]-1120210379|0;i=(i<<10|i>>>22)+r|0;o+=(r^(i|~n))+e[2]+718787259|0;o=(o<<15|o>>>17)+i|0;n+=(i^(o|~r))+e[9]-343485551|0;n=(n<<21|n>>>11)+o|0;t[0]=r+t[0]|0;t[1]=n+t[1]|0;t[2]=o+t[2]|0;t[3]=i+t[3]|0}function f(t){var e=[],r;for(r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e}function h(t){var e=[],r;for(r=0;r<64;r+=4)e[r>>2]=t[r]+(t[r+1]<<8)+(t[r+2]<<16)+(t[r+3]<<24);return e}function o(t){var e=t.length,r=[1732584193,-271733879,-1732584194,271733878],n,o,i,s,a,c;for(n=64;n<=e;n+=64)u(r,f(t.substring(n-64,n)));t=t.substring(n-64);o=t.length;i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<o;n+=1)i[n>>2]|=t.charCodeAt(n)<<(n%4<<3);i[n>>2]|=128<<(n%4<<3);if(n>55){u(r,i);for(n=0;n<16;n+=1)i[n]=0}s=e*8;s=s.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(s[2],16);c=parseInt(s[1],16)||0;i[14]=a;i[15]=c;u(r,i);return r}function i(t){var e=t.length,r=[1732584193,-271733879,-1732584194,271733878],n,o,i,s,a,c;for(n=64;n<=e;n+=64)u(r,h(t.subarray(n-64,n)));t=n-64<e?t.subarray(n-64):new Uint8Array(0);o=t.length;i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<o;n+=1)i[n>>2]|=t[n]<<(n%4<<3);i[n>>2]|=128<<(n%4<<3);if(n>55){u(r,i);for(n=0;n<16;n+=1)i[n]=0}s=e*8;s=s.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(s[2],16);c=parseInt(s[1],16)||0;i[14]=a;i[15]=c;u(r,i);return r}function r(t){var e="",r;for(r=0;r<4;r+=1)e+=n[t>>r*8+4&15]+n[t>>r*8&15];return e}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=r(t[e]);return t.join("")}if(s(o("hello"))!=="5d41402abc4b2a76b9719d911017c592");if(typeof ArrayBuffer!=="undefined"&&!ArrayBuffer.prototype.slice)(function(){function u(t,e){t=t|0||0;if(t<0)return Math.max(t+e,0);return Math.min(t,e)}ArrayBuffer.prototype.slice=function(t,e){var r=this.byteLength,n=u(t,r),o=r,i,s,a,c;if(e!==l)o=u(e,r);if(n>o)return new ArrayBuffer(0);i=o-n;s=new ArrayBuffer(i);a=new Uint8Array(s);c=new Uint8Array(this,n,i);a.set(c);return s}})();function a(t){if(/[\u0080-\uFFFF]/.test(t))t=unescape(encodeURIComponent(t));return t}function e(t,e){var r=t.length,n=new ArrayBuffer(r),o=new Uint8Array(n),i;for(i=0;i<r;i+=1)o[i]=t.charCodeAt(i);return e?o:n}function c(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function _(t,e,r){var n=new Uint8Array(t.byteLength+e.byteLength);n.set(new Uint8Array(t));n.set(new Uint8Array(e),t.byteLength);return r?n:n.buffer}function p(t){var e=[],r=t.length,n;for(n=0;n<r-1;n+=2)e.push(parseInt(t.substr(n,2),16));return String.fromCharCode.apply(String,e)}function y(){this.reset()}return y.prototype.append=function(t){this.appendBinary(a(t));return this},y.prototype.appendBinary=function(t){this._buff+=t;this._length+=t.length;var e=this._buff.length,r;for(r=64;r<=e;r+=64)u(this._hash,f(this._buff.substring(r-64,r)));this._buff=this._buff.substring(r-64);return this},y.prototype.end=function(t){var e=this._buff,r=e.length,n,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i;for(n=0;n<r;n+=1)o[n>>2]|=e.charCodeAt(n)<<(n%4<<3);this._finish(o,r);i=s(this._hash);if(t)i=p(i);this.reset();return i},y.prototype.reset=function(){this._buff="";this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},y.prototype.setState=function(t){this._buff=t.buff;this._length=t.length;this._hash=t.hash;return this},y.prototype.destroy=function(){delete this._hash;delete this._buff;delete this._length},y.prototype._finish=function(t,e){var r=e,n,o,i;t[r>>2]|=128<<(r%4<<3);if(r>55){u(this._hash,t);for(r=0;r<16;r+=1)t[r]=0}n=this._length*8;n=n.toString(16).match(/(.*?)(.{0,8})$/);o=parseInt(n[2],16);i=parseInt(n[1],16)||0;t[14]=o;t[15]=i;u(this._hash,t)},y.hash=function(t,e){return y.hashBinary(a(t),e)},y.hashBinary=function(t,e){var r=o(t),n=s(r);return e?p(n):n},(y.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var e=_(this._buff.buffer,t,true),r=e.length,n;this._length+=t.byteLength;for(n=64;n<=r;n+=64)u(this._hash,h(e.subarray(n-64,n)));this._buff=n-64<r?new Uint8Array(e.buffer.slice(n-64)):new Uint8Array(0);return this},y.ArrayBuffer.prototype.end=function(t){var e=this._buff,r=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o,i;for(o=0;o<r;o+=1)n[o>>2]|=e[o]<<(o%4<<3);this._finish(n,r);i=s(this._hash);if(t)i=p(i);this.reset();return i},y.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this},y.ArrayBuffer.prototype.getState=function(){var t=y.prototype.getState.call(this);t.buff=c(t.buff);return t},y.ArrayBuffer.prototype.setState=function(t){t.buff=e(t.buff,true);return y.prototype.setState.call(this,t)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(t,e){var r=i(new Uint8Array(t)),n=s(r);return e?p(n):n},y}()})),checkMode=function(t){if(t){if("serial"===t||"parallel"===t)return!0;throw new Error("模式只有并行(parallel)或串行()")}},checkSize=function(t){if(t){if(/^\d{1,}$/.test(t))return!0;throw new Error("size请输入至少一位的纯数字")}},calculateHash=function(l,f){return new Promise(function(e,t){var r,n=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,o=2097152,i=Math.ceil(l.size/o),s=0,a=new sparkMd5.ArrayBuffer,c=new FileReader;function u(){var t=s*o,e=t+o>=l.size?l.size:t+o;c.readAsArrayBuffer(n.call(l,t,e))}c.onload=function(t){a.append(t.target.result),r=++s/i.toFixed(3),f&&"function"==typeof f&&f(r),s<i?u():e(a.end())},c.onerror=function(){t("hash fail"),console.warn("oops, something went wrong.")},u()})},ChunkUploadFile=function(){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.size,t=t.mode;_classCallCheck(this,r),this.chunkSize=checkSize(e)?e:1048576,this.fileId="",this.hashProgress=function(){},this.fileChunkList=[],this.file=null,this.fileName="",this.fileSize="",this.fileType="",this.chunkLength=0,this.errIds={},this.sucIds={},this.paused=!1,this.mode=checkMode(t)?t:"serial",this.customReq=null}var n,e,o,t;return _createClass(r,[{key:"readFile",value:(t=_asyncToGenerator(regenerator.mark(function t(){var e,r,n,o=this;return regenerator.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.resetData(),t.next=3,this.showFileWindow();case 3:return this.file=t.sent,n=this.file,e=n.name,r=n.type,n=n.size,this.fileName=e,this.fileType=r,this.fileSize=n,t.next=10,calculateHash(this.file,this.hashProgress);case 10:return this.fileId=t.sent,t.next=13,this.chunkFile(this.file);case 13:return this.fileChunkList=t.sent,this.onFileReadEnd(this.file,this.fileId),t.abrupt("return",new Promise(function(t,e){t(o.fileId)}));case 16:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})},{key:"sendFile",value:(o=_asyncToGenerator(regenerator.mark(function t(e){var r,n,o=this;return regenerator.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e.customReq,n=e.savedChunkIds,r&&(this.customReq=r),n&&0<n.length&&n.map(function(t){void 0!==o.sucIds[t]&&null!==o.sucIds[t]||(o.sucIds[t]=t)}),this.uploadChunks(this.fileChunkList,this.customReq);case 4:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"showFileWindow",value:function(){return new Promise(function(e){var t=document.createElement("input");t.type="file",t.multiple=!0,t.onchange=function(t){t=Array.from(t.path[0].files);e(t[0])},t.click()})}},{key:"chunkFile",value:(e=_asyncToGenerator(regenerator.mark(function t(e){var r,n,o,i,s,a,c=arguments;return regenerator.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=1<c.length&&void 0!==c[1]?c[1]:this.chunkSize,n=[],i=o=0,s=Math.ceil(e.size/r),this.chunkLength=s;o<=e.size;)a=e.slice(o,o+r),n.push({file:a,index:i,chunkId:i,md5:this.fileId,chunkLength:s,name:this.fileName,size:a.size}),o+=r,i++;return t.abrupt("return",new Promise(function(t,e){t(n)}));case 8:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"_packReq",value:function(t,r,n){var o=this,i={chunkId:r.chunkId,md5:r.md5};return new Promise(function(e,t){n(r,function(){o.sucIds[i.chunkId]=i.chunkId;var t=(Object.keys(o.sucIds).length/o.chunkLength).toFixed(3);o.onUpload(t,i.chunkId),i=null,e()},i)})}},{key:"uploadChunks",value:(n=_asyncToGenerator(regenerator.mark(function t(e,r){var n,o,i,s=this;return regenerator.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=22;break}if("serial"!==this.mode){t.next=17;break}n=0;case 3:if(!(n<e.length)){t.next=14;break}if(o=e[n],void 0!==this.sucIds[o.chunkId]&&null!==this.sucIds[o.chunkId])return t.abrupt("continue",11);t.next=7;break;case 7:if(this.paused)return t.abrupt("return",!1);t.next=9;break;case 9:return t.next=11,this._packReq(o.chunkId,o,r);case 11:n++,t.next=3;break;case 14:this.onFullUpload(this.fileId),t.next=20;break;case 17:i=[],e.map(function(t){void 0!==s.sucIds[t.chunkId]&&null!==s.sucIds[t.chunkId]||i.push(s._packReq(t.chunkId,t,r))}),Promise.all(i).then(function(){s.onFullUpload(s.fileId)}).catch(function(t){});case 20:t.next=23;break;case 22:throw new Error("缺失请求方法");case 23:case"end":return t.stop()}},t,this)})),function(t,e){return n.apply(this,arguments)})},{key:"packgeChunk",value:function(e){var r=new FormData;return Object.keys(e).map(function(t){r.append(t,e[t])}),r}},{key:"pauseUpload",value:function(){"serial"===this.mode?(this.paused=!0,this.onPaused()):console.error("并行模式不能使用暂停功能")}},{key:"continueUpload",value:function(){"serial"===this.mode?(this.paused=!1,this.sendFile({fileId:this.fileId,customReq:this.customReq}),this.onContinue()):console.error("并行模式不能使用暂停功能")}},{key:"onFileReadEnd",value:function(t,e){}},{key:"onUpload",value:function(t,e){}},{key:"onFullUpload",value:function(t){}},{key:"onPaused",value:function(){}},{key:"onContinue",value:function(){}},{key:"resetData",value:function(){this.fileId="",this.hashProgress=function(){},this.fileChunkList=[],this.file=null,this.fileName="",this.fileSize="",this.fileType="",this.errIds={},this.sucIds={},this.paused=!1,this.customReq=null}}]),r}();module.exports=ChunkUploadFile,"undefined"!=typeof window&&(window._VERSION_="0.0.4");
